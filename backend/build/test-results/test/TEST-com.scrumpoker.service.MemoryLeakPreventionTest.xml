<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.scrumpoker.service.MemoryLeakPreventionTest" tests="9" skipped="0" failures="0" errors="0" timestamp="2025-07-31T21:14:10" hostname="MACM-MNVDQRXR92" time="0.028">
  <properties/>
  <testcase name="should clean up empty rooms()" classname="com.scrumpoker.service.MemoryLeakPreventionTest" time="0.007"/>
  <testcase name="should enforce maximum room limits()" classname="com.scrumpoker.service.MemoryLeakPreventionTest" time="0.004"/>
  <testcase name="should clean up multiple empty rooms simultaneously()" classname="com.scrumpoker.service.MemoryLeakPreventionTest" time="0.002"/>
  <testcase name="should handle removal of non-existent users gracefully()" classname="com.scrumpoker.service.MemoryLeakPreventionTest" time="0.0"/>
  <testcase name="should maintain data consistency between rooms and user sessions()" classname="com.scrumpoker.service.MemoryLeakPreventionTest" time="0.001"/>
  <testcase name="should enforce maximum users per room()" classname="com.scrumpoker.service.MemoryLeakPreventionTest" time="0.004"/>
  <testcase name="should provide memory usage information()" classname="com.scrumpoker.service.MemoryLeakPreventionTest" time="0.001"/>
  <testcase name="maintenance cleanup should be idempotent()" classname="com.scrumpoker.service.MemoryLeakPreventionTest" time="0.001"/>
  <testcase name="should clean up orphaned users during maintenance()" classname="com.scrumpoker.service.MemoryLeakPreventionTest" time="0.002"/>
  <system-out><![CDATA[2025-07-31T23:14:10.234+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.scrumpoker.service.MemoryLeakPreventionTest]: MemoryLeakPreventionTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-07-31T23:14:10.245+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.scrumpoker.ScrumPokerApplication for test class com.scrumpoker.service.MemoryLeakPreventionTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-07-31T23:14:10.265+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] c.s.service.MemoryLeakPreventionTest     : Starting MemoryLeakPreventionTest using Java 17.0.16 with PID 81355 (started by igor.kovryzhkin in /Users/igor.kovryzhkin/Documents/scrum_poker/backend)
2025-07-31T23:14:10.265+02:00 DEBUG 81355 --- [scrum-poker-backend] [    Test worker] c.s.service.MemoryLeakPreventionTest     : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-07-31T23:14:10.265+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] c.s.service.MemoryLeakPreventionTest     : No active profile set, falling back to 1 default profile: "default"
2025-07-31T23:14:10.480+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] c.s.service.MemoryLeakPreventionTest     : Started MemoryLeakPreventionTest in 0.232 seconds (process running for 1.761)

============================================================
]]>&#x1f680;<![CDATA[ SCRUM POKER BACKEND IS READY!
============================================================
✅ Server is running at: http://localhost:8080
✅ WebSocket endpoint: ws://localhost:8080/ws
✅ Health check: http://localhost:8080/health
============================================================
]]>&#x1f4ca;<![CDATA[ System Information:
   - Java Version: 17.0.16
   - JVM Vendor: Homebrew
   - OS: Mac OS X 15.5
   - Available Processors: 11
============================================================
]]>&#x1f4be;<![CDATA[ Memory Information:
   - Used Memory: 39 MB
   - Free Memory: 31 MB
   - Total Memory: 70 MB
   - Max Memory: 512 MB
============================================================
]]>&#x1f517;<![CDATA[ Ready to accept WebSocket connections!
   Frontend can now connect to ws://localhost:8080/ws
============================================================

2025-07-31T23:14:10.487+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'Alice' in room 'room-1' (User ID: bf02a9b4-2278-4113-812c-a3637ad1a1cb)
2025-07-31T23:14:10.488+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'Bob' in room 'room-2' (User ID: 549b49b1-d92e-49fd-98a2-3801cd5eb333)
2025-07-31T23:14:10.488+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'Charlie' in room 'room-1' (User ID: 65f6b482-ca34-4b6b-bb7a-75c91345abe3)
2025-07-31T23:14:10.488+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f44b;<![CDATA[ User 'Alice' left room 'room-1' (User ID: bf02a9b4-2278-4113-812c-a3637ad1a1cb)
2025-07-31T23:14:10.488+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f44b;<![CDATA[ User 'Charlie' left room 'room-1' (User ID: 65f6b482-ca34-4b6b-bb7a-75c91345abe3)
2025-07-31T23:14:10.488+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Cleaning up empty room 'room-1'
2025-07-31T23:14:10.489+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f44b;<![CDATA[ User 'Bob' left room 'room-2' (User ID: 549b49b1-d92e-49fd-98a2-3801cd5eb333)
2025-07-31T23:14:10.489+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Cleaning up empty room 'room-2'
2025-07-31T23:14:10.492+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User1' in room 'room-1' (User ID: 369fc76a-b04a-4c91-bf18-4e30fbde27d4)
2025-07-31T23:14:10.492+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User2' in room 'room-2' (User ID: 5f1b847f-3cb8-4f3e-8157-67e920c608ef)
2025-07-31T23:14:10.492+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User3' in room 'room-3' (User ID: 93d43e8b-1057-45a3-b29e-79a0bca62e06)
2025-07-31T23:14:10.492+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User4' in room 'room-4' (User ID: dfbfd11d-49c8-4492-9a62-762bf6e0bc70)
2025-07-31T23:14:10.492+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User5' in room 'room-5' (User ID: 9e53afd3-6bb7-4f38-a395-b7c2b22715ae)
2025-07-31T23:14:10.492+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User6' in room 'room-6' (User ID: 1567bc70-4c0a-4242-86bf-2cf9390edfa4)
2025-07-31T23:14:10.492+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User7' in room 'room-7' (User ID: 295c0983-9be7-44d9-abde-909a0a2df792)
2025-07-31T23:14:10.492+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User8' in room 'room-8' (User ID: 5eedf2a1-8edf-4508-8d8f-807d8e897197)
2025-07-31T23:14:10.493+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User9' in room 'room-9' (User ID: 933283d8-c6f9-4caa-b113-4fb83e1004d2)
2025-07-31T23:14:10.493+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User10' in room 'room-10' (User ID: 47ef31d2-d02e-4bc0-9369-65861e46e0b1)
2025-07-31T23:14:10.493+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4ca;<![CDATA[ Memory Usage: 10 rooms, 10 users, {:.1f} avg users/room
2025-07-31T23:14:10.496+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User1' in room 'room-1' (User ID: f80fbfd9-f313-4f30-8322-7d64c5cf8d3b)
2025-07-31T23:14:10.496+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User2' in room 'room-2' (User ID: eb3322b5-f2fc-4122-bf30-cff5fa0fe8dc)
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User3' in room 'room-3' (User ID: 4dcee747-abaa-452b-a1a4-8c7a8c349fac)
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User4' in room 'room-4' (User ID: 7c9346bd-ea66-4396-8108-ec4ea01188b3)
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User5' in room 'room-5' (User ID: a85f79c8-df34-48c1-ae8b-c4186353c0f6)
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f44b;<![CDATA[ User 'User1' left room 'room-1' (User ID: f80fbfd9-f313-4f30-8322-7d64c5cf8d3b)
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Cleaning up empty room 'room-1'
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f44b;<![CDATA[ User 'User2' left room 'room-2' (User ID: eb3322b5-f2fc-4122-bf30-cff5fa0fe8dc)
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Cleaning up empty room 'room-2'
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f44b;<![CDATA[ User 'User3' left room 'room-3' (User ID: 4dcee747-abaa-452b-a1a4-8c7a8c349fac)
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Cleaning up empty room 'room-3'
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f44b;<![CDATA[ User 'User4' left room 'room-4' (User ID: 7c9346bd-ea66-4396-8108-ec4ea01188b3)
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Cleaning up empty room 'room-4'
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f44b;<![CDATA[ User 'User5' left room 'room-5' (User ID: a85f79c8-df34-48c1-ae8b-c4186353c0f6)
2025-07-31T23:14:10.497+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Cleaning up empty room 'room-5'
2025-07-31T23:14:10.499+02:00  WARN 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ⚠️ Attempted to remove non-existent user with ID: non-existent-user-id
2025-07-31T23:14:10.500+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'Alice' in room 'room-1' (User ID: d5f97be8-f002-4080-b801-89f0f252bfb0)
2025-07-31T23:14:10.500+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'Bob' in room 'room-1' (User ID: 82854d77-8581-4c2a-acdf-f60b073c09a5)
2025-07-31T23:14:10.500+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f44b;<![CDATA[ User 'Alice' left room 'room-1' (User ID: d5f97be8-f002-4080-b801-89f0f252bfb0)
2025-07-31T23:14:10.501+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User1' in room 'test-room' (User ID: fc7a6bbf-afd7-4ed6-9ff8-6f17bfd89ee7)
2025-07-31T23:14:10.502+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User2' in room 'test-room' (User ID: 74156266-8253-437f-aeea-f623b26013c2)
2025-07-31T23:14:10.502+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User3' in room 'test-room' (User ID: c4648677-ccfc-4fbf-b452-7f5099471a32)
2025-07-31T23:14:10.502+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User4' in room 'test-room' (User ID: 2954a25e-e706-4c97-9a17-0171b9d42f2a)
2025-07-31T23:14:10.502+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User5' in room 'test-room' (User ID: e167767f-17ca-49aa-99d0-77dc7d843ece)
2025-07-31T23:14:10.502+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User6' in room 'test-room' (User ID: 4f68528e-45d0-4c7e-b7cc-ae3212182ec2)
2025-07-31T23:14:10.502+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User7' in room 'test-room' (User ID: 167417e9-926b-4758-9c7b-cc958e19f580)
2025-07-31T23:14:10.503+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User8' in room 'test-room' (User ID: 4f85d01a-c2ec-441f-8422-6289a26a612a)
2025-07-31T23:14:10.503+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User9' in room 'test-room' (User ID: dc8b29d8-51f2-464f-b19b-99e36921a50f)
2025-07-31T23:14:10.503+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'User10' in room 'test-room' (User ID: 62590a40-7159-454a-babf-08945e0d2736)
2025-07-31T23:14:10.503+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4ca;<![CDATA[ Memory Usage: 1 rooms, 10 users, {:.1f} avg users/room
2025-07-31T23:14:10.506+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'Alice' in room 'room-1' (User ID: 4e392cc6-fe26-42e0-91c9-710625eb7873)
2025-07-31T23:14:10.506+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'Bob' in room 'room-1' (User ID: aed8aa3d-a56e-435e-b2c6-78a284574784)
2025-07-31T23:14:10.506+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'Charlie' in room 'room-2' (User ID: e7af4131-724a-4dec-a587-1a1496af5611)
2025-07-31T23:14:10.508+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'Alice' in room 'room-1' (User ID: 30ea823b-7903-4609-a685-c8b03def6569)
2025-07-31T23:14:10.508+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f44b;<![CDATA[ User 'Alice' left room 'room-1' (User ID: 30ea823b-7903-4609-a685-c8b03def6569)
2025-07-31T23:14:10.508+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Cleaning up empty room 'room-1'
2025-07-31T23:14:10.508+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4ca;<![CDATA[ Memory Usage: 0 rooms, 0 users, {:.1f} avg users/room
2025-07-31T23:14:10.508+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4ca;<![CDATA[ Memory Usage: 0 rooms, 0 users, {:.1f} avg users/room
2025-07-31T23:14:10.509+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'Alice' in room 'room-1' (User ID: 210831d6-cddf-4cc0-9822-76d96a09d6d4)
2025-07-31T23:14:10.510+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4cb;<![CDATA[ New user joined with name 'Bob' in room 'room-1' (User ID: 0d0924d2-d9a8-4421-b297-9008f3383a05)
2025-07-31T23:14:10.510+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Maintenance cleanup: removed empty room 'room-1'
2025-07-31T23:14:10.510+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Maintenance cleanup: removed orphaned user 'Alice' from room 'room-1'
2025-07-31T23:14:10.510+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Maintenance cleanup: removed orphaned user 'Bob' from room 'room-1'
2025-07-31T23:14:10.510+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f9f9;<![CDATA[ Maintenance cleanup completed: 1 rooms, 2 users removed
2025-07-31T23:14:10.510+02:00  INFO 81355 --- [scrum-poker-backend] [    Test worker] com.scrumpoker.service.RoomService       : ]]>&#x1f4ca;<![CDATA[ Memory Usage: 0 rooms, 0 users, {:.1f} avg users/room
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
